$(function(){$.fn.extend({formSubmit:function(r={},n=1500){let o=$(this);r=$.extend({notify:{success:function(t,e="Success!"){new PNotify({title:e,text:t,addclass:"alert alert-styled-right alert-arrow-right",type:"success"})},error:function(t,e="Error!"){if(t.hasOwnProperty("responseJSON"))if(t.responseJSON.hasOwnProperty("errors"))for(var r in t.responseJSON.errors){t=t.responseJSON.errors[r][0];break}else t.responseJSON.hasOwnProperty("message")&&(t=t.responseJSON.message);else t.hasOwnProperty("message")&&(t=t.message);new PNotify({title:e,text:t,addclass:"alert alert-styled-right alert-arrow-right",type:"error"})}},beforeRequest:function(t){},afterRequest:function(t){}},r);const s=function(){return void 0!==r.enctype&&"multipart/form-data"===r.enctype||void 0!==o.attr("enctype")&&"multipart/form-data"===o.attr("enctype")},a=function(){return o.attr("action")},i=function(){return void 0===o.attr("method")||!1===o.attr("method")||s()?"POST":o.attr("method")},u=function(){var t=s()?new FormData(o[0]):o.serialize();return s()&&t.append("_method",e()),t},e=function(){return void 0!==o.attr("method")&&!1!==o.attr("method")?o.attr("method"):"POST"},c=function(){return"post"===e().toLowerCase()},f=function(){return"patch"===e().toLowerCase()},d=function(){return"put"===e().toLowerCase()};return o.submit(function(t){t.preventDefault(),r.beforeRequest(o);t={url:a(),method:i(),data:u(),done:function(t){r.notify.success(t.message),c()&&setTimeout(function(){window.location.reload()},n)},fail:function(t){r.notify.error(t)},always:function(t){(void 0!==t.status&&c()||f()||d())&&o.find('button[type="submit"]').prop("disabled",!1)}},t=s()?$.extend({processData:!1,contentType:!1,cache:!1},t):t;let e=$.extend(t,r);$(this).find('button[type="submit"]').prop("disabled",!0),$.ajax(e).done(function(t){e.done(t)}).fail(function(t){e.fail(t)}).always(function(t){e.always(t),r.afterRequest(o)})}),this}})});